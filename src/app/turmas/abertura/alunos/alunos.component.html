<div class="alunos-container">
  <po-multiselect
    p-label="Selecione os alunos abaixo:"
    [p-options]="alunosOptions"
    [(ngModel)]="alunos"
  >
  </po-multiselect>

  <po-modal
    #novoAluno
    p-title="Incluir novo aluno"
    p-size="sm"
  >
    <form #form=ngForm [formGroup]="alunoForm" class="form-group" (submit)="criarAluno()">
      <div class="form-field">
        <label>Nome</label>
        <input
          [(ngModel)]="aluno.nome"
          type="text"
          name="nome"
          placeholder="Keanu Reeves"
          formControlName="nome"
        >

        <app-validation-message
          *ngIf="alunoForm.get('nome').errors?.required && form.submitted"
          textContent="Campo obrigatório"
        >
        </app-validation-message>
      </div>

      <div class="form-field">
        <label>Email</label>
        <input
          [(ngModel)]="aluno.email"
          type="text"
          name="email"
          placeholder="keanureeves@legal.com"
          formControlName="email"
        >

        <app-validation-message
          *ngIf="alunoForm.get('email').errors?.required && form.submitted"
          textContent="Campo obrigatório"
        >
        </app-validation-message>

        <app-validation-message
          *ngIf="alunoForm.get('email').errors?.email && form.submitted"
          textContent="Email inválido"
        >
        </app-validation-message>
      </div>

      <div class="form-field">
        <label>CPF</label>
        <input
          [(ngModel)]="aluno.cpf"
          type="text"
          name="cpf"
          placeholder="123.456.789-00"
          formControlName="cpf"
        >

        <app-validation-message
          *ngIf="alunoForm.get('cpf').errors?.required && form.submitted"
          textContent="Campo obrigatório"
        >
        </app-validation-message>

        <app-validation-message
          *ngIf="alunoForm.get('cpf').errors?.pattern && form.submitted"
          textContent="Ex: 123.456.789-00"
        >
        </app-validation-message>
      </div>

      <div class="form-field">
        <label>Matrícula</label>
        <input
          [(ngModel)]="aluno.matricula"
          type="number"
          name="matricula"
          placeholder="Ex: 45892"
          formControlName="matricula"
        >

        <app-validation-message
          *ngIf="alunoForm.get('matricula').errors?.required && form.submitted"
          textContent="Campo obrigatório"
        >
        </app-validation-message>

        <app-validation-message
          *ngIf="alunoForm.get('matricula').errors?.pattern && form.submitted"
          textContent="Utilize apenas 6 dígitos"
        >
        </app-validation-message>
      </div>

      <div class="form-field">
        <label>Forma de Ingresso</label>
        <po-select
          name="formaIngresso"
          [(ngModel)]="aluno.formaIngresso"
          [p-options]="formaIngressoOptions"
          formControlName="formaIngresso"
        >
        </po-select>

        <app-validation-message
          *ngIf="alunoForm.get('formaIngresso').errors?.required && form.submitted"
          textContent="Campo obrigatório"
        >
        </app-validation-message>
      </div>

      <button class="btn-create">Adicionar</button>
    </form>
  </po-modal>

  <po-button
    p-type="link"
    p-label="Incluir novo aluno"
    (p-click)="novoAluno.open()"
  >
  </po-button>

  <po-button
    p-label="Concluir"
    p-type="primary"
    class="btn-finish"
    (p-click)="saveInfo()"
  >
  </po-button>
</div>
